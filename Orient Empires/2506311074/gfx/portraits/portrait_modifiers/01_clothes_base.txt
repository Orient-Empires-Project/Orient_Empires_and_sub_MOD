# Valid culture inputs

# CULTURE_INPUT = dde_abbasid
# CULTURE_INPUT = dde_hre
# CULTURE_INPUT = byzantine
# CULTURE_INPUT = indian
# CULTURE_INPUT = mena
# CULTURE_INPUT = northern
# CULTURE_INPUT = western
# CULTURE_INPUT = western_era1
# CULTURE_INPUT = western_era2
# CULTURE_INPUT = western_era3
# CULTURE_INPUT = western_era4
# CULTURE_INPUT = steppe

# CULTURE_INPUT = fp1_norse
# CULTURE_INPUT = fp2_iberian_christian
# CULTURE_INPUT = fp2_iberian_muslim


clothes_effect = { # Gene modifers to apply for characters wearing or not wearing clothes
    usage = game
    selection_behavior = max
    fallback = unclothed_body
    priority = 1

    clothed_body = {
        dna_modifiers = {
            morph = {
                mode = modify_multiply
                gene = gene_bs_bust
                value = 0.8 # Setting this lower to reduce the exaggerated effect of large bust size when wearing clothes
                template = bust_clothes
            }            
        }
        weight = {
            base = 0
            modifier = {
                add = 1000
                NOR = {
                    should_be_fully_naked_portrait_trigger = yes
                    should_be_topless_portrait_trigger = yes
                }
            }  
        }    
    }

    unclothed_body = {
        dna_modifiers = {          
        }
        weight = {
            base = 10
        }
    }
}

clothes = { # Special group for the ruler designer only. The game expects this to be named "clothes"

    usage = game
    selection_behavior = weighted_random
    priority = 20

    ruler_designer_clothes = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_bedchamber
                range = { 0 1 }
            }
            morph = {
                mode = modify_multiply
                gene = gene_bs_bust
                value = 0.8 # Setting this lower to reduce the exaggerated effect of large bust size when wearing clothes
                template = bust_clothes
            }    
        }   
        weight = {
            base = 0
            modifier = {
                add = 100
                portrait_ruler_designer_trigger = yes
            }
        }
    }    
}

clothes_base = { # The lowest priority group of clothes with triggers based on rank and culture. All clothes triggers are found in 00_clothing_triggers.txt

    usage = game
    selection_behavior = weighted_random
    fallback = default_clothes
    priority = 1


    default_clothes = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = no_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        outfit_tags = { no_clothes }
        weight = {
            base = -100
        }
    }

## DDE HRE ##

    dde_hre_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_hre_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = dde_hre # CULTURE_INPUT gets added into the trigger referenced in 00_clothing_triggers.txt so it's important the input is a correct match to an existing culture trigger
                }
            }
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                NOT = { portrait_era3_trigger = yes } 
            }
        }
    }
    
    dde_hre_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_hre_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = dde_hre } # common/scripted_modifiers/00_portrait_modifiers.txt
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = {  
                    CULTURE_INPUT = dde_hre # CULTURE_INPUT gets added into the trigger referenced in 00_clothing_triggers.txt so it's important the input is a correct match to an existing culture trigger
                }
            }
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                NOT = { portrait_era3_trigger = yes } 
            }
        }
    }

    dde_hre_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_hre_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = dde_hre } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = dde_hre
                }
            }
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                NOT = { portrait_era3_trigger = yes } 
            }
        }
    }
    

## Western ##

    western_commoners = {

        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        outfit_tags = { western_commoner_outfit }
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = western
                }
            }       
        }
    }

    ep2_western_era1_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = ep2_western_era1_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_commoner_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes   
                portrait_era1_trigger = yes     
            }
        }
    }

    ep2_western_era2_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_commoner_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes   
                portrait_era2_trigger = yes     
            }
        }
    }

    ep2_western_era3_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_commoner_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes 
                OR = {
                	portrait_era3_trigger = yes  
                	portrait_era4_trigger = yes  
                }     
            }
        }
    }
 
    western_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_trigger = {
		            CULTURE_INPUT = western
		        }
		    }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = western
                }      
            }
            modifier = {
                factor = 0       
                has_ep2_dlc_trigger = yes   
            }
        }
    }

    ep2_western_era1_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = ep2_western_era1_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ep2_dlc_trigger = yes 
		        portrait_era1_trigger = yes 
		    }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes   
                portrait_era1_trigger = yes     
            }
        }
    }

    ep2_western_era2_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ep2_dlc_trigger = yes 
		        portrait_era2_trigger = yes 
		    }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes   
                portrait_era2_trigger = yes     
            }
        }
    }

    ep2_western_era3_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = ep2_western_era3_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_4_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ep2_dlc_trigger = yes 
                OR = {
                	portrait_era3_trigger = yes  
                	portrait_era4_trigger = yes  
                } 
		    }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes
                OR = {
                	portrait_era3_trigger = yes  
                	portrait_era4_trigger = yes  
                }      
            }
        }
    }

    western_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_5_trigger = {
		            CULTURE_INPUT = western
		        }
		    }
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
            }
            modifier = {
                factor = 0     
                has_ep2_dlc_trigger = yes   
            }
        }
    }

    ep2_western_era1_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = ep2_western_era1_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_5_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ep2_dlc_trigger = yes 
		        portrait_era1_trigger = yes 
		    }
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes   
                portrait_era1_trigger = yes     
            }
        }
    }

    ep2_western_era2_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = western_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_5_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ep2_dlc_trigger = yes 
		        portrait_era2_trigger = yes 
		    }
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes   
                portrait_era2_trigger = yes     
            }
        }
    }

    ep2_western_era3_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = ep2_western_era3_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
		    modifier = {
		        add = 50
		        court_fashion_level_5_trigger = {
		            CULTURE_INPUT = western
		        }
		        has_ep2_dlc_trigger = yes 
                OR = {
                	portrait_era3_trigger = yes  
                	portrait_era4_trigger = yes  
                } 
		    }
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = western
                } 
                has_ep2_dlc_trigger = yes  
                OR = {
                	portrait_era3_trigger = yes  
                	portrait_era4_trigger = yes  
                }    
            }
        }
    }

## Byzantine ##

    byzantine_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = byzantine_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = byzantine
                }
            }
        }
    }

    byzantine_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = byzantine_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = byzantine }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = byzantine
                }  
            }
        }
    }

    byzantine_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = byzantine_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = byzantine } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = byzantine
                } 
            }
        }
    }

## INDIAN ##

    indian_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = indian_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = indian
                }
            }
        }
    }

    indian_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = indian_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = indian }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = indian
                } 
            }
        }
    }

    indian_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = indian_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = indian } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = indian
                } 
            }
        }
    }

## DDE ABBASID ##

    dde_abbasid_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_abbasid_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 40
                portrait_commoner_no_mayors_trigger = {
                    CULTURE_INPUT = dde_abbasid
                }
            }
        }
    }

    dde_abbasid_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_abbasid_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = dde_abbasid }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = dde_abbasid
                }   
            }
        }
    }

    dde_abbasid_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = dde_abbasid_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = dde_abbasid } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = dde_abbasid
                } 
            }
        }
    }

## MENA ##

    mena_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mena_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        outfit_tags = { mena_commoner_clothes }
        weight = {
            base = 0
            modifier = {
                add = 40
                portrait_commoner_no_mayors_trigger = {
                    CULTURE_INPUT = mena
                }
            }
        }
    }

    mena_mayors = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mena_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_mayor_trigger = {
                    CULTURE_INPUT = mena
                }
            }
        }
    }

    mena_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mena_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   

        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = mena } 
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = mena
                }  
            }
        }
    }

    mena_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = mena_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = mena } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = mena
                } 
            }
        }
    }


    

## Steppe ##

    steppe_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = steppe_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = steppe
                }
            }
        }
    }

    steppe_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = steppe_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = steppe } 
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = steppe
                }  
            }
        }
    }

    steppe_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = steppe_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = steppe } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = steppe
                } 
            }
        }
    }

## Northern Pagans ##

    northern_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = northern_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = northern
                }
            }
        }
    }

    northern_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = northern_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = northern } 
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = northern
                }  
            }
        }
    }

    northern_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = northern_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = northern } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = northern
                }
            }
        }
    }
    
## FP2 Fate of Iberia ##

    fp2_iberian_christian_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp2_christian_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 41 # Slightly higher
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = fp2_iberian_christian
                }
            }
        }

    }

    fp2_iberian_muslim_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp2_muslim_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        weight = {
            base = 0
            modifier = {
                add = 41 # Slightly higher
                portrait_commoner_no_mayors_trigger = {
                    CULTURE_INPUT = fp2_iberian_muslim
                }
            }
        }

    }

    fp2_iberian_christian_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp2_christian_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = fp2_iberian_christian } 
            modifier = {
                add = 51 # Slightly higher
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = fp2_iberian_christian
                }   
            }
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                portrait_era1_trigger = yes
            }
        }
    }

    fp2_iberian_muslim_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp2_muslim_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = fp2_iberian_muslim } 
            modifier = {
                add = 51 # Slightly higher
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = fp2_iberian_muslim
                } 
            }
        }
    }

    fp2_iberian_christian_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp2_christian_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = fp2_iberian_christian } 
            modifier = {
                add = 51 # Slightly higher
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = fp2_iberian_christian
                } 
            }
            modifier = {
                factor = 0       # Should NOT show up if EP2 is active and we're not in the right era
                has_ep2_dlc_trigger = yes   
                portrait_era1_trigger = yes
            }
        }
    }

    fp2_iberian_muslim_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp2_muslim_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = fp2_iberian_muslim } 
            modifier = {
                add = 51 # Slightly higher
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = fp2_iberian_muslim
                } 
            }
        }
    }

## FP1 NORSE ##

    fp1_norse_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp1_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 41 # Slightly higher
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = fp1_norse
                }
            }
        }
    }

    fp1_norse_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp1_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = fp1_norse }
            modifier = {
                add = 51 # Slightly higher
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = fp1_norse
                }
            }
        }
    }

    fp1_norse_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = fp1_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }       
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = fp1_norse } 
            modifier = {
                add = 51 # Slightly higher
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = fp1_norse
                } 
            }
        }
    }

## Sub-Saharan Africans ##

    sub_saharan_commoners = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = sub_saharan_commoner_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 50
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = african
                }
            }
        }
    }

    sub_saharan_low_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = sub_saharan_low_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            court_fashion_level_4_modifier = { INPUT_PARAMETER = african }
            modifier = {
                add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = african
                }
            }
        }
    }

    sub_saharan_high_nobles = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = sub_saharan_high_nobility_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }
        outfit_tags = { sub_saharan_high_nobility_clothes }     
        weight = {
            base = 0
            court_fashion_level_5_modifier = { INPUT_PARAMETER = african } 
            modifier = {
                add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = african
                } 
            }
        }
    }

## SP2 Elegance of the Empire ##

    sp2_western_imperial = {
        dna_modifiers = {
            accessory = {
                mode = add
                gene = clothes
                template = sp2_western_royalty_clothes
                range = { 0 1 } # For the randomness to work correctly
            }
        }   
        weight = {
            base = 0
            modifier = {
                add = 90
                has_dlc_feature = elegance_of_the_empire
                portrait_imperial_trigger = {
                    CULTURE_INPUT = western
                }
            }
            modifier = {
                add = 40
                has_dlc_feature = elegance_of_the_empire
                portrait_royalty_trigger = {
                    CULTURE_INPUT = western
                }                  
            }
            modifier = {
                factor = 0
                has_ep2_dlc_trigger = yes  
                NOR = {
                    portrait_era2_trigger = yes   
                    portrait_era3_trigger = yes 
                }             
            }
        }
    }

    # Shogunate

	japanese_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = japanese_commoner_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
                portrait_commoner_clothing_trigger = {
                    CULTURE_INPUT = japanese
                }
			}
		}
	}

	japanese_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = japanese_low_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 50
                court_fashion_level_4_trigger = {
                    CULTURE_INPUT = japanese
                }
			}
			modifier = {
				add = 50
                portrait_low_nobles_clothing_trigger = { 
                    CULTURE_INPUT = japanese
				}
			}
		}
	}

	japanese_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = japanese_high_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
		}		
		weight = {
			base = 0
			modifier = {
				add = 50
                court_fashion_level_5_trigger = {
                    CULTURE_INPUT = japanese
                }
			}
			modifier = {
				add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = japanese
                }
			}
		}
	}

	japanese_royals = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = japanese_royal_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
		}
        weight = {
			base = 0
			modifier = {
				add = 50
                court_fashion_level_5_trigger = {
                    CULTURE_INPUT = japanese
                }
			}
			modifier = {
				add = 50
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = japanese
                }
			}
            modifier = {
				add = 110
                portrait_high_nobles_clothing_trigger = { 
                    CULTURE_INPUT = japanese
                }
                OR = {
                    has_title = title:d_gosho
                    AND = {
                        dynasty=dynasty:10000420
                        highest_held_title_tier >= tier_duchy
                    }
                    highest_held_title_tier >= tier_kingdom
                }
			}
		}
	}

	japanese_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = japanese_war_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
		}
		outfit_tags = { military_outfit }	
		weight = {
			base = 0
			modifier = {
				add = 101
				portrait_wear_armor_trigger = yes
				portrait_japanese_clothing_trigger = yes
			}
			modifier = {
				add = 21
				portrait_wear_armor_currently_in_army_trigger = yes
			}
		}
	}

	## CHINA ##

	chinese_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = chinese_commoner_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 20
				highest_held_title_tier < tier_county
				portrait_chinese_clothing_trigger = yes
			}
		}
	}

	chinese_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = chinese_low_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
            morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						portrait_chinese_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							highest_held_title_tier = tier_county
							portrait_chinese_clothing_trigger = yes
						}
					}
				}

			}
		}
	}

	chinese_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = chinese_high_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
            morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
                template = body_shape_average_clothed
			}
		}
		weight = {
			base = 0
			modifier = {
				add = 50
				OR = {
					AND = {
						OR = {
							highest_held_title_tier > tier_county
						}
						portrait_chinese_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier > tier_county
							}
							portrait_chinese_clothing_trigger = yes
						}
					}
				}

			}
		}
	}
	
	chinese_imperial = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = chinese_imperial_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
            morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 110
				highest_held_title_tier = tier_empire
				portrait_chinese_wear_armor_trigger = no
				NOR = {
					has_government = mercenary_government
					has_government = republic_government
					has_government = theocracy_government
				}
				OR = {
					portrait_chinese_clothing_trigger = yes
					has_primary_title = title:e_celestia
				}
			}
		}
	}

	chinese_song_nobility_clothes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = chinese_song_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = -20
			modifier = {
				add = 30
				NAND = {
					has_trait = peasant_leader
					OR = {
						is_ruler = no
						is_leading_faction_type = peasant_faction
						AND = {
							is_ruler = yes
							is_landed = no
							OR = {
								government_has_flag = government_is_feudal
								government_has_flag = government_is_clan
							}
						}
					}
				}
				portrait_chinese_clothing_trigger = yes
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
						}
					}
				}
			}
			modifier = {
				add = 170
				#current_date >= 960.1.1
				exists = this
				is_adult = yes
				OR = {
					has_character_flag = flag_song_clothing
					AND = {
				        exists = liege
				        liege = {
							AND = {
								has_title = title:e_celestia
								government_has_flag = government_is_celestial
								has_character_flag = flag_song_clothing
							}
				        }
				    }
				}
				portrait_chinese_wear_helmet_trigger = no
                portrait_chinese_wear_armor_trigger = no
			}
			modifier = {
				add = -180
				exists = this
				NOR = {
					government_has_flag = government_is_bureau
					government_has_flag = government_is_celestial
				}
			}
		}
	}

	chinese_song_common_clothes = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = chinese_song_common_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}	
		weight = {
			base = -20
			modifier = {
				add = 30
				OR = {
					AND = {
						OR = {
							highest_held_title_tier > tier_county
						}
						NOT = { has_government = mercenary_government } # Blocked for mercenaries
						portrait_chinese_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						is_ruler = no
						primary_spouse = {
							OR = {
								highest_held_title_tier > tier_county
							}
							portrait_chinese_clothing_trigger = yes
						}
					}
				}
			}
			modifier = {
				add = 180
				exists = this
				is_adult = yes
                portrait_chinese_wear_armor_trigger = no
				OR = {
					has_character_flag = flag_song_clothing
					AND = {
				        exists = liege
				        liege = {
							AND = {
								has_title = title:e_celestia
								has_government = imperial_government
							}
							has_character_flag = flag_song_clothing
				        }
				    }
				}
			}
			#modifier = {
				#add = -180
				#exists = this
				#NOR = {
					#has_government = bureau_government
					#has_government = imperial_government
				#}
			#}
		}
	}

    chinese_war = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = chinese_war_nobility_clothes
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average_clothed
			}
		}
        weight = {
            base = 0
            modifier = {
				add = 150
				portrait_chinese_wear_armor_trigger = yes
				portrait_chinese_clothing_trigger = yes
            }
        }
	}

## AUSTRONESIAN ##

	austronesian_commoners = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = mmjm_common
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average
			}
		}	
		weight = {
			base = 0
			modifier = {
				add = 89
				highest_held_title_tier < tier_county
				NOR = {
					AND = {
						exists = primary_spouse
						primary_spouse = {
							highest_held_title_tier > tier_county
						}
					}
					AND = {
						government_has_flag = government_is_republic
						primary_title.tier > 1
					}
					AND = { is_ruler = yes government_has_flag = government_is_theocracy }
				}
				portrait_austronesian_clothing_trigger = yes
			}
		}
	}

	austronesian_low_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = mmjm_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average
			}
		}	
		weight = {
			base = 0
#			modifier = {
#				add = 0
#				OR = {
#					this = character:rajasa_13
#					this = character:rajasa_2
#				}
#			}			
			modifier = {
				add = 101
				OR = {
					AND = {
						highest_held_title_tier = tier_county
						NOR = {
							# has_dynasty = no
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 1
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						portrait_austronesian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							highest_held_title_tier = tier_county
							NOR = {
								# has_dynasty = no
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_austronesian_clothing_spouse_trigger = yes
						}
					}
				}

			}
		}
	}

	austronesian_high_nobles = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = mmjm_nobility
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average
			}
		}		
		weight = {
			base = 0
#			modifier = {
#				add = 0
#				OR = {
#					this = character:rajasa_6
#				}
#			}			
			modifier = {
				add = 101
				OR = {
					AND = {
						OR = {
							highest_held_title_tier = tier_duchy
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 1
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						NOT = { AND = { is_ruler = yes government_has_flag = government_is_mercenary  } } # Blocked for mercenaries
						portrait_austronesian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							OR = {
								highest_held_title_tier = tier_duchy
								AND = {
									government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_austronesian_clothing_spouse_trigger = yes
						}
					}
				}

			}				

			}
		}

	austronesian_royalty = {
		dna_modifiers = {
			accessory = {
				mode = add
				gene = clothes
				template = mmjm_royalty
				range = { 0 1 } # For the randomness to work correctly
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_bust
				value = 1.0
				template = bust_clothes
			}
			morph = {
				mode = modify_multiply
				gene = gene_bs_body_shape
				value = 1.0
				template = body_shape_average
			}
		}		
		weight = {
			base = 0
			
#			modifier = {
#				add = 0
##				OR = {
##					this = character:rajasa_5
##					AND = {
##						this = character:rajasa_4
##						NOT = { has_global_variable = variable_mmjm_ken_dedes_bathing }
##					}
##					AND = {
##						this = character:rajasa_1
##						NOT = { has_global_variable = variable_mmjm_ken_angrok_common }
##					}
##				}
#			}		
			modifier = {
				add = 101
				OR = {
					AND = {
						highest_held_title_tier >= tier_kingdom
						NOR = {
							AND = {
								government_has_flag = government_is_republic
								primary_title.tier > 1
							}
							AND = { is_ruler = yes government_has_flag = government_is_theocracy }
						}
						portrait_austronesian_clothing_trigger = yes
					}
					AND = {
						exists = primary_spouse
						OR = {
							is_ruler = no
							highest_held_title_tier = tier_barony
						}
						primary_spouse = {
							highest_held_title_tier >= tier_kingdom
							NOR = {
								AND = {
								government_has_flag = government_is_republic
									primary_title.tier > 1
								}
								AND = { is_ruler = yes government_has_flag = government_is_theocracy }
							}
							portrait_austronesian_clothing_spouse_trigger = yes
						}
					}
				}			
			}
		}
	}    
}
